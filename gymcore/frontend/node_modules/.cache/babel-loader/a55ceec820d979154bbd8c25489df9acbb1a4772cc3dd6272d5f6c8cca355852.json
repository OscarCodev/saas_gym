{"ast":null,"code":"import _objectSpread from\"C:/Users/oussb/OneDrive/Escritorio/saas_gym v/gymcore/frontend/node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useState,useEffect,useContext}from'react';import authService from'../services/auth.service';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext(null);export const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);const[gym,setGym]=useState(null);const[isAuthenticated,setIsAuthenticated]=useState(false);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const currentUser=authService.getCurrentUser();if(currentUser){setUser(currentUser.user);setGym(currentUser.gym);setIsAuthenticated(true);}setIsLoading(false);},[]);const login=async(email,password)=>{try{const data=await authService.login(email,password);setUser(data.user);setGym(data.gym);setIsAuthenticated(true);return data;}catch(error){throw error;}};const logout=()=>{authService.logout();setUser(null);setGym(null);setIsAuthenticated(false);};const register=async data=>{try{return await authService.registerGym(data);}catch(error){throw error;}};const updateGymStatus=isActive=>{if(gym){const updatedGym=_objectSpread(_objectSpread({},gym),{},{is_active:isActive});setGym(updatedGym);localStorage.setItem('gym',JSON.stringify(updatedGym));}};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user,gym,isAuthenticated,isLoading,login,logout,register,updateGymStatus},children:children});};export const useAuth=()=>useContext(AuthContext);","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","authService","jsx","_jsx","AuthContext","AuthProvider","_ref","children","user","setUser","gym","setGym","isAuthenticated","setIsAuthenticated","isLoading","setIsLoading","currentUser","getCurrentUser","login","email","password","data","error","logout","register","registerGym","updateGymStatus","isActive","updatedGym","_objectSpread","is_active","localStorage","setItem","JSON","stringify","Provider","value","useAuth"],"sources":["C:/Users/oussb/OneDrive/Escritorio/saas_gym v/gymcore/frontend/src/contexts/AuthContext.jsx"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from 'react';\r\nimport authService from '../services/auth.service';\r\n\r\nconst AuthContext = createContext(null);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [gym, setGym] = useState(null);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const currentUser = authService.getCurrentUser();\r\n    if (currentUser) {\r\n      setUser(currentUser.user);\r\n      setGym(currentUser.gym);\r\n      setIsAuthenticated(true);\r\n    }\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  const login = async (email, password) => {\r\n    try {\r\n      const data = await authService.login(email, password);\r\n      setUser(data.user);\r\n      setGym(data.gym);\r\n      setIsAuthenticated(true);\r\n      return data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    authService.logout();\r\n    setUser(null);\r\n    setGym(null);\r\n    setIsAuthenticated(false);\r\n  };\r\n\r\n  const register = async (data) => {\r\n    try {\r\n      return await authService.registerGym(data);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const updateGymStatus = (isActive) => {\r\n    if (gym) {\r\n      const updatedGym = { ...gym, is_active: isActive };\r\n      setGym(updatedGym);\r\n      localStorage.setItem('gym', JSON.stringify(updatedGym));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ \r\n      user, \r\n      gym, \r\n      isAuthenticated, \r\n      isLoading, \r\n      login, \r\n      logout, \r\n      register,\r\n      updateGymStatus\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);"],"mappings":"4LAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC7E,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnD,KAAM,CAAAC,WAAW,cAAGP,aAAa,CAAC,IAAI,CAAC,CAEvC,MAAO,MAAM,CAAAQ,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACY,GAAG,CAAEC,MAAM,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACpC,KAAM,CAACc,eAAe,CAAEC,kBAAkB,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACgB,SAAS,CAAEC,YAAY,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,WAAW,CAAGf,WAAW,CAACgB,cAAc,CAAC,CAAC,CAChD,GAAID,WAAW,CAAE,CACfP,OAAO,CAACO,WAAW,CAACR,IAAI,CAAC,CACzBG,MAAM,CAACK,WAAW,CAACN,GAAG,CAAC,CACvBG,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CACAE,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,KAAK,CAAG,KAAAA,CAAOC,KAAK,CAAEC,QAAQ,GAAK,CACvC,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAApB,WAAW,CAACiB,KAAK,CAACC,KAAK,CAAEC,QAAQ,CAAC,CACrDX,OAAO,CAACY,IAAI,CAACb,IAAI,CAAC,CAClBG,MAAM,CAACU,IAAI,CAACX,GAAG,CAAC,CAChBG,kBAAkB,CAAC,IAAI,CAAC,CACxB,MAAO,CAAAQ,IAAI,CACb,CAAE,MAAOC,KAAK,CAAE,CACd,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnBtB,WAAW,CAACsB,MAAM,CAAC,CAAC,CACpBd,OAAO,CAAC,IAAI,CAAC,CACbE,MAAM,CAAC,IAAI,CAAC,CACZE,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAW,QAAQ,CAAG,KAAO,CAAAH,IAAI,EAAK,CAC/B,GAAI,CACF,MAAO,MAAM,CAAApB,WAAW,CAACwB,WAAW,CAACJ,IAAI,CAAC,CAC5C,CAAE,MAAOC,KAAK,CAAE,CACd,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,KAAM,CAAAI,eAAe,CAAIC,QAAQ,EAAK,CACpC,GAAIjB,GAAG,CAAE,CACP,KAAM,CAAAkB,UAAU,CAAAC,aAAA,CAAAA,aAAA,IAAQnB,GAAG,MAAEoB,SAAS,CAAEH,QAAQ,EAAE,CAClDhB,MAAM,CAACiB,UAAU,CAAC,CAClBG,YAAY,CAACC,OAAO,CAAC,KAAK,CAAEC,IAAI,CAACC,SAAS,CAACN,UAAU,CAAC,CAAC,CACzD,CACF,CAAC,CAED,mBACEzB,IAAA,CAACC,WAAW,CAAC+B,QAAQ,EAACC,KAAK,CAAE,CAC3B5B,IAAI,CACJE,GAAG,CACHE,eAAe,CACfE,SAAS,CACTI,KAAK,CACLK,MAAM,CACNC,QAAQ,CACRE,eACF,CAAE,CAAAnB,QAAA,CACCA,QAAQ,CACW,CAAC,CAE3B,CAAC,CAED,MAAO,MAAM,CAAA8B,OAAO,CAAGA,CAAA,GAAMrC,UAAU,CAACI,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}