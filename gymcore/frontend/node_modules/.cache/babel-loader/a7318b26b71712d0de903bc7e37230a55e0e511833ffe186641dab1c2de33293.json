{"ast":null,"code":"import{useState,useEffect}from'react';import dashboardService from'../services/dashboard.service';const useDashboardStats=()=>{const[stats,setStats]=useState(null);const[recentActivity,setRecentActivity]=useState([]);const[revenueData,setRevenueData]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchDashboardData=async()=>{try{const[statsData,activityData,revenueChartData]=await Promise.all([dashboardService.getStats(),dashboardService.getRecentActivity(),dashboardService.getRevenueChart()]);setStats(statsData);setRecentActivity(activityData);setRevenueData(revenueChartData);setError(null);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||'Error al cargar datos del dashboard');}finally{setLoading(false);}};useEffect(()=>{fetchDashboardData();// Optional: Auto-refresh every 30 seconds\nconst interval=setInterval(fetchDashboardData,30000);return()=>clearInterval(interval);},[]);return{stats,recentActivity,revenueData,loading,error,refresh:fetchDashboardData};};export default useDashboardStats;","map":{"version":3,"names":["useState","useEffect","dashboardService","useDashboardStats","stats","setStats","recentActivity","setRecentActivity","revenueData","setRevenueData","loading","setLoading","error","setError","fetchDashboardData","statsData","activityData","revenueChartData","Promise","all","getStats","getRecentActivity","getRevenueChart","err","_err$response","_err$response$data","response","data","detail","interval","setInterval","clearInterval","refresh"],"sources":["C:/Users/oussb/OneDrive/Escritorio/saas_gym v/gymcore/frontend/src/hooks/useDashboardStats.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport dashboardService from '../services/dashboard.service';\r\n\r\nconst useDashboardStats = () => {\r\n  const [stats, setStats] = useState(null);\r\n  const [recentActivity, setRecentActivity] = useState([]);\r\n  const [revenueData, setRevenueData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchDashboardData = async () => {\r\n    try {\r\n      const [statsData, activityData, revenueChartData] = await Promise.all([\r\n        dashboardService.getStats(),\r\n        dashboardService.getRecentActivity(),\r\n        dashboardService.getRevenueChart()\r\n      ]);\r\n      \r\n      setStats(statsData);\r\n      setRecentActivity(activityData);\r\n      setRevenueData(revenueChartData);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError(err.response?.data?.detail || 'Error al cargar datos del dashboard');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDashboardData();\r\n    // Optional: Auto-refresh every 30 seconds\r\n    const interval = setInterval(fetchDashboardData, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  return {\r\n    stats,\r\n    recentActivity,\r\n    revenueData,\r\n    loading,\r\n    error,\r\n    refresh: fetchDashboardData\r\n  };\r\n};\r\n\r\nexport default useDashboardStats;"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,gBAAgB,KAAM,+BAA+B,CAE5D,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGL,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACM,cAAc,CAAEC,iBAAiB,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACQ,WAAW,CAAEC,cAAc,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAc,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAEC,gBAAgB,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CACpEjB,gBAAgB,CAACkB,QAAQ,CAAC,CAAC,CAC3BlB,gBAAgB,CAACmB,iBAAiB,CAAC,CAAC,CACpCnB,gBAAgB,CAACoB,eAAe,CAAC,CAAC,CACnC,CAAC,CAEFjB,QAAQ,CAACU,SAAS,CAAC,CACnBR,iBAAiB,CAACS,YAAY,CAAC,CAC/BP,cAAc,CAACQ,gBAAgB,CAAC,CAChCJ,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAE,MAAOU,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZZ,QAAQ,CAAC,EAAAW,aAAA,CAAAD,GAAG,CAACG,QAAQ,UAAAF,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcG,IAAI,UAAAF,kBAAA,iBAAlBA,kBAAA,CAAoBG,MAAM,GAAI,qCAAqC,CAAC,CAC/E,CAAC,OAAS,CACRjB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDV,SAAS,CAAC,IAAM,CACda,kBAAkB,CAAC,CAAC,CACpB;AACA,KAAM,CAAAe,QAAQ,CAAGC,WAAW,CAAChB,kBAAkB,CAAE,KAAK,CAAC,CACvD,MAAO,IAAMiB,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CACLzB,KAAK,CACLE,cAAc,CACdE,WAAW,CACXE,OAAO,CACPE,KAAK,CACLoB,OAAO,CAAElB,kBACX,CAAC,CACH,CAAC,CAED,cAAe,CAAAX,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}