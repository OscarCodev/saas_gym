{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oussb\\\\OneDrive\\\\Escritorio\\\\saas_gym v\\\\gymcore\\\\frontend\\\\src\\\\pages\\\\Dashboard\\\\MembershipPlansPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Plus, Pencil, Trash2, ToggleLeft, ToggleRight, DollarSign, Calendar, Package } from 'lucide-react';\nimport { useMembershipPlans } from '../../hooks/useMembershipPlans';\nimport Table from '../../components/Table';\nimport Button from '../../components/Button';\nimport Modal from '../../components/Modal';\nimport FormInput from '../../components/FormInput';\nimport Badge from '../../components/Badge';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MembershipPlansPage = () => {\n  _s();\n  const {\n    plans,\n    loading,\n    error,\n    createPlan,\n    updatePlan,\n    deletePlan,\n    toggleStatus\n  } = useMembershipPlans(true);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isDeleteOpen, setIsDeleteOpen] = useState(false);\n  const [selectedPlan, setSelectedPlan] = useState(null);\n  const [formLoading, setFormLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    duration_days: '30',\n    benefits: ''\n  });\n  const formatErrorMessage = (error, defaultMessage) => {\n    var _error$response, _error$response$data;\n    return (error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || (error === null || error === void 0 ? void 0 : error.message) || defaultMessage;\n  };\n  const handleOpenModal = (plan = null) => {\n    if (plan) {\n      setSelectedPlan(plan);\n      setFormData({\n        name: plan.name,\n        description: plan.description || '',\n        price: plan.price.toString(),\n        duration_days: plan.duration_days.toString(),\n        benefits: plan.benefits || ''\n      });\n    } else {\n      setSelectedPlan(null);\n      setFormData({\n        name: '',\n        description: '',\n        price: '',\n        duration_days: '30',\n        benefits: ''\n      });\n    }\n    setIsModalOpen(true);\n    setErrorMessage('');\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setFormLoading(true);\n    setErrorMessage('');\n    try {\n      const planData = {\n        name: formData.name,\n        description: formData.description || null,\n        price: parseFloat(formData.price),\n        duration_days: parseInt(formData.duration_days),\n        benefits: formData.benefits || null\n      };\n      if (selectedPlan) {\n        await updatePlan(selectedPlan.id, planData);\n      } else {\n        await createPlan(planData);\n      }\n      setIsModalOpen(false);\n    } catch (error) {\n      setErrorMessage(formatErrorMessage(error, 'Error al guardar el plan'));\n    } finally {\n      setFormLoading(false);\n    }\n  };\n  const handleDelete = async () => {\n    if (!selectedPlan) return;\n    setFormLoading(true);\n    setErrorMessage('');\n    try {\n      await deletePlan(selectedPlan.id);\n      setIsDeleteOpen(false);\n    } catch (error) {\n      setErrorMessage(formatErrorMessage(error, 'Error al eliminar el plan'));\n      setIsDeleteOpen(false);\n    } finally {\n      setFormLoading(false);\n    }\n  };\n  const handleToggleStatus = async plan => {\n    setErrorMessage('');\n    try {\n      await toggleStatus(plan.id);\n    } catch (error) {\n      setErrorMessage(formatErrorMessage(error, 'Error al cambiar el estado del plan'));\n    }\n  };\n  const columns = [{\n    header: 'Plan',\n    accessor: 'name',\n    render: row => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-10 w-10 rounded-lg bg-gradient-to-br from-lime-400 to-lime-600 flex items-center justify-center mr-3\",\n        children: /*#__PURE__*/_jsxDEV(Package, {\n          className: \"h-5 w-5 text-slate-900\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold text-slate-200\",\n          children: row.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this), row.description && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-slate-500 truncate max-w-xs\",\n          children: row.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)\n  }, {\n    header: 'Precio',\n    accessor: 'price',\n    render: row => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center text-lime-400 font-semibold\",\n      children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n        className: \"h-4 w-4 mr-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this), row.price.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this)\n  }, {\n    header: 'Duración',\n    accessor: 'duration_days',\n    render: row => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center text-slate-300\",\n      children: [/*#__PURE__*/_jsxDEV(Calendar, {\n        className: \"h-4 w-4 mr-1 text-slate-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this), row.duration_days, \" d\\xEDas\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this)\n  }, {\n    header: 'Estado',\n    accessor: 'is_active',\n    render: row => /*#__PURE__*/_jsxDEV(Badge, {\n      label: row.is_active ? 'Activo' : 'Inactivo',\n      variant: row.is_active ? 'success' : 'default'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this)\n  }, {\n    header: 'Acciones',\n    render: row => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleOpenModal(row),\n        className: \"p-1 text-slate-400 hover:text-lime-400 transition-colors\",\n        title: \"Editar\",\n        children: /*#__PURE__*/_jsxDEV(Pencil, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleToggleStatus(row),\n        className: `p-1 transition-colors ${row.is_active ? 'text-green-400 hover:text-yellow-400' : 'text-slate-400 hover:text-green-400'}`,\n        title: row.is_active ? 'Desactivar' : 'Activar',\n        children: row.is_active ? /*#__PURE__*/_jsxDEV(ToggleRight, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 30\n        }, this) : /*#__PURE__*/_jsxDEV(ToggleLeft, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 68\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setSelectedPlan(row);\n          setIsDeleteOpen(true);\n        },\n        className: \"p-1 text-slate-400 hover:text-red-400 transition-colors\",\n        title: \"Eliminar\",\n        children: /*#__PURE__*/_jsxDEV(Trash2, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }, this)\n  }];\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-64 items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-slate-400\",\n        children: \"Cargando planes...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-slate-100\",\n          children: \"Planes de Membres\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm text-slate-400\",\n          children: \"Crea y gestiona planes personalizados para tus socios\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => handleOpenModal(),\n        icon: Plus,\n        children: \"Nuevo Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rounded-lg border border-red-800 bg-red-900/20 p-4 text-sm text-red-400\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-4 sm:grid-cols-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-xl border border-slate-800 bg-slate-900 p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-slate-400\",\n          children: \"Total Planes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-1 text-2xl font-bold text-slate-100\",\n          children: plans.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-xl border border-slate-800 bg-slate-900 p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-slate-400\",\n          children: \"Planes Activos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-1 text-2xl font-bold text-lime-400\",\n          children: plans.filter(p => p.is_active).length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-xl border border-slate-800 bg-slate-900 p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-slate-400\",\n          children: \"Precio Promedio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-1 text-2xl font-bold text-blue-400\",\n          children: [\"$\", plans.length > 0 ? (plans.reduce((sum, p) => sum + p.price, 0) / plans.length).toFixed(2) : '0.00']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), plans.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rounded-xl border border-slate-800 bg-slate-900 p-12 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(Package, {\n        className: \"mx-auto h-12 w-12 text-slate-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mt-4 text-lg font-semibold text-slate-300\",\n        children: \"No hay planes creados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-sm text-slate-500\",\n        children: \"Comienza creando tu primer plan de membres\\xEDa personalizado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => handleOpenModal(),\n        icon: Plus,\n        className: \"mt-6\",\n        children: \"Crear Primer Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      data: plans\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: () => setIsModalOpen(false),\n      title: selectedPlan ? 'Editar Plan' : 'Nuevo Plan de Membresía',\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-4\",\n        children: [errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-lg border border-red-800 bg-red-900/20 p-3 text-sm text-red-400\",\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n          label: \"Nombre del Plan\",\n          value: formData.name,\n          onChange: e => setFormData({\n            ...formData,\n            name: e.target.value\n          }),\n          required: true,\n          placeholder: \"Ej: Plan Premium\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mb-1.5 block text-sm font-medium text-slate-300\",\n            children: \"Descripci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: formData.description,\n            onChange: e => setFormData({\n              ...formData,\n              description: e.target.value\n            }),\n            className: \"block w-full rounded-lg border border-slate-700 bg-slate-950 p-2.5 text-slate-100 placeholder-slate-500 focus:border-lime-400 focus:ring-lime-400 sm:text-sm\",\n            rows: \"2\",\n            placeholder: \"Descripci\\xF3n breve del plan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Precio\",\n            type: \"number\",\n            step: \"0.01\",\n            value: formData.price,\n            onChange: e => setFormData({\n              ...formData,\n              price: e.target.value\n            }),\n            required: true,\n            placeholder: \"29.99\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            label: \"Duraci\\xF3n (d\\xEDas)\",\n            type: \"number\",\n            value: formData.duration_days,\n            onChange: e => setFormData({\n              ...formData,\n              duration_days: e.target.value\n            }),\n            required: true,\n            placeholder: \"30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mb-1.5 block text-sm font-medium text-slate-300\",\n            children: \"Beneficios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: formData.benefits,\n            onChange: e => setFormData({\n              ...formData,\n              benefits: e.target.value\n            }),\n            className: \"block w-full rounded-lg border border-slate-700 bg-slate-950 p-2.5 text-slate-100 placeholder-slate-500 focus:border-lime-400 focus:ring-lime-400 sm:text-sm\",\n            rows: \"3\",\n            placeholder: \"Lista de beneficios (uno por l\\xEDnea)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-xs text-slate-500\",\n            children: \"Escribe cada beneficio en una l\\xEDnea nueva\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"button\",\n            variant: \"secondary\",\n            onClick: () => setIsModalOpen(false),\n            disabled: formLoading,\n            className: \"flex-1\",\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            disabled: formLoading,\n            className: \"flex-1\",\n            children: formLoading ? 'Guardando...' : selectedPlan ? 'Actualizar' : 'Crear Plan'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmDialog, {\n      isOpen: isDeleteOpen,\n      onClose: () => setIsDeleteOpen(false),\n      onConfirm: handleDelete,\n      title: \"Eliminar Plan\",\n      message: `¿Estás seguro de que deseas eliminar el plan \"${selectedPlan === null || selectedPlan === void 0 ? void 0 : selectedPlan.name}\"? Los socios actuales con este plan no se verán afectados.`,\n      confirmText: \"Eliminar\",\n      isDestructive: true,\n      loading: formLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n};\n_s(MembershipPlansPage, \"eeQoETrBM/vtmixdFHiXf9TzxU4=\", false, function () {\n  return [useMembershipPlans];\n});\n_c = MembershipPlansPage;\nexport default MembershipPlansPage;\nvar _c;\n$RefreshReg$(_c, \"MembershipPlansPage\");","map":{"version":3,"names":["React","useState","Plus","Pencil","Trash2","ToggleLeft","ToggleRight","DollarSign","Calendar","Package","useMembershipPlans","Table","Button","Modal","FormInput","Badge","ConfirmDialog","jsxDEV","_jsxDEV","MembershipPlansPage","_s","plans","loading","error","createPlan","updatePlan","deletePlan","toggleStatus","isModalOpen","setIsModalOpen","isDeleteOpen","setIsDeleteOpen","selectedPlan","setSelectedPlan","formLoading","setFormLoading","errorMessage","setErrorMessage","formData","setFormData","name","description","price","duration_days","benefits","formatErrorMessage","defaultMessage","_error$response","_error$response$data","response","data","detail","message","handleOpenModal","plan","toString","handleSubmit","e","preventDefault","planData","parseFloat","parseInt","id","handleDelete","handleToggleStatus","columns","header","accessor","render","row","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","label","is_active","variant","onClick","title","icon","length","filter","p","reduce","sum","isOpen","onClose","onSubmit","value","onChange","target","required","placeholder","rows","type","step","disabled","onConfirm","confirmText","isDestructive","_c","$RefreshReg$"],"sources":["C:/Users/oussb/OneDrive/Escritorio/saas_gym v/gymcore/frontend/src/pages/Dashboard/MembershipPlansPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Plus, Pencil, Trash2, ToggleLeft, ToggleRight, DollarSign, Calendar, Package } from 'lucide-react';\r\nimport { useMembershipPlans } from '../../hooks/useMembershipPlans';\r\nimport Table from '../../components/Table';\r\nimport Button from '../../components/Button';\r\nimport Modal from '../../components/Modal';\r\nimport FormInput from '../../components/FormInput';\r\nimport Badge from '../../components/Badge';\r\nimport ConfirmDialog from '../../components/ConfirmDialog';\r\n\r\nconst MembershipPlansPage = () => {\r\n  const { plans, loading, error, createPlan, updatePlan, deletePlan, toggleStatus } = useMembershipPlans(true);\r\n  \r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isDeleteOpen, setIsDeleteOpen] = useState(false);\r\n  const [selectedPlan, setSelectedPlan] = useState(null);\r\n  const [formLoading, setFormLoading] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  \r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    price: '',\r\n    duration_days: '30',\r\n    benefits: ''\r\n  });\r\n\r\n  const formatErrorMessage = (error, defaultMessage) => {\r\n    return error?.response?.data?.detail || error?.message || defaultMessage;\r\n  };\r\n\r\n  const handleOpenModal = (plan = null) => {\r\n    if (plan) {\r\n      setSelectedPlan(plan);\r\n      setFormData({\r\n        name: plan.name,\r\n        description: plan.description || '',\r\n        price: plan.price.toString(),\r\n        duration_days: plan.duration_days.toString(),\r\n        benefits: plan.benefits || ''\r\n      });\r\n    } else {\r\n      setSelectedPlan(null);\r\n      setFormData({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        duration_days: '30',\r\n        benefits: ''\r\n      });\r\n    }\r\n    setIsModalOpen(true);\r\n    setErrorMessage('');\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setFormLoading(true);\r\n    setErrorMessage('');\r\n\r\n    try {\r\n      const planData = {\r\n        name: formData.name,\r\n        description: formData.description || null,\r\n        price: parseFloat(formData.price),\r\n        duration_days: parseInt(formData.duration_days),\r\n        benefits: formData.benefits || null\r\n      };\r\n\r\n      if (selectedPlan) {\r\n        await updatePlan(selectedPlan.id, planData);\r\n      } else {\r\n        await createPlan(planData);\r\n      }\r\n      setIsModalOpen(false);\r\n    } catch (error) {\r\n      setErrorMessage(formatErrorMessage(error, 'Error al guardar el plan'));\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!selectedPlan) return;\r\n    setFormLoading(true);\r\n    setErrorMessage('');\r\n    \r\n    try {\r\n      await deletePlan(selectedPlan.id);\r\n      setIsDeleteOpen(false);\r\n    } catch (error) {\r\n      setErrorMessage(formatErrorMessage(error, 'Error al eliminar el plan'));\r\n      setIsDeleteOpen(false);\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleStatus = async (plan) => {\r\n    setErrorMessage('');\r\n    try {\r\n      await toggleStatus(plan.id);\r\n    } catch (error) {\r\n      setErrorMessage(formatErrorMessage(error, 'Error al cambiar el estado del plan'));\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    { \r\n      header: 'Plan', \r\n      accessor: 'name',\r\n      render: (row) => (\r\n        <div className=\"flex items-center\">\r\n          <div className=\"h-10 w-10 rounded-lg bg-gradient-to-br from-lime-400 to-lime-600 flex items-center justify-center mr-3\">\r\n            <Package className=\"h-5 w-5 text-slate-900\" />\r\n          </div>\r\n          <div>\r\n            <div className=\"font-semibold text-slate-200\">{row.name}</div>\r\n            {row.description && (\r\n              <div className=\"text-xs text-slate-500 truncate max-w-xs\">{row.description}</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n    { \r\n      header: 'Precio', \r\n      accessor: 'price',\r\n      render: (row) => (\r\n        <div className=\"flex items-center text-lime-400 font-semibold\">\r\n          <DollarSign className=\"h-4 w-4 mr-1\" />\r\n          {row.price.toFixed(2)}\r\n        </div>\r\n      )\r\n    },\r\n    { \r\n      header: 'Duración', \r\n      accessor: 'duration_days',\r\n      render: (row) => (\r\n        <div className=\"flex items-center text-slate-300\">\r\n          <Calendar className=\"h-4 w-4 mr-1 text-slate-400\" />\r\n          {row.duration_days} días\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      header: 'Estado',\r\n      accessor: 'is_active',\r\n      render: (row) => (\r\n        <Badge \r\n          label={row.is_active ? 'Activo' : 'Inactivo'} \r\n          variant={row.is_active ? 'success' : 'default'} \r\n        />\r\n      )\r\n    },\r\n    {\r\n      header: 'Acciones',\r\n      render: (row) => (\r\n        <div className=\"flex items-center gap-2\">\r\n          <button \r\n            onClick={() => handleOpenModal(row)}\r\n            className=\"p-1 text-slate-400 hover:text-lime-400 transition-colors\"\r\n            title=\"Editar\"\r\n          >\r\n            <Pencil className=\"h-4 w-4\" />\r\n          </button>\r\n          <button \r\n            onClick={() => handleToggleStatus(row)}\r\n            className={`p-1 transition-colors ${row.is_active ? 'text-green-400 hover:text-yellow-400' : 'text-slate-400 hover:text-green-400'}`}\r\n            title={row.is_active ? 'Desactivar' : 'Activar'}\r\n          >\r\n            {row.is_active ? <ToggleRight className=\"h-4 w-4\" /> : <ToggleLeft className=\"h-4 w-4\" />}\r\n          </button>\r\n          <button \r\n            onClick={() => { setSelectedPlan(row); setIsDeleteOpen(true); }}\r\n            className=\"p-1 text-slate-400 hover:text-red-400 transition-colors\"\r\n            title=\"Eliminar\"\r\n          >\r\n            <Trash2 className=\"h-4 w-4\" />\r\n          </button>\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex h-64 items-center justify-center\">\r\n        <div className=\"text-slate-400\">Cargando planes...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-slate-100\">Planes de Membresía</h1>\r\n          <p className=\"mt-1 text-sm text-slate-400\">\r\n            Crea y gestiona planes personalizados para tus socios\r\n          </p>\r\n        </div>\r\n        <Button \r\n          onClick={() => handleOpenModal()} \r\n          icon={Plus}\r\n        >\r\n          Nuevo Plan\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Error Message */}\r\n      {errorMessage && (\r\n        <div className=\"rounded-lg border border-red-800 bg-red-900/20 p-4 text-sm text-red-400\">\r\n          {errorMessage}\r\n        </div>\r\n      )}\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"grid gap-4 sm:grid-cols-3\">\r\n        <div className=\"rounded-xl border border-slate-800 bg-slate-900 p-4\">\r\n          <div className=\"text-sm text-slate-400\">Total Planes</div>\r\n          <div className=\"mt-1 text-2xl font-bold text-slate-100\">{plans.length}</div>\r\n        </div>\r\n        <div className=\"rounded-xl border border-slate-800 bg-slate-900 p-4\">\r\n          <div className=\"text-sm text-slate-400\">Planes Activos</div>\r\n          <div className=\"mt-1 text-2xl font-bold text-lime-400\">\r\n            {plans.filter(p => p.is_active).length}\r\n          </div>\r\n        </div>\r\n        <div className=\"rounded-xl border border-slate-800 bg-slate-900 p-4\">\r\n          <div className=\"text-sm text-slate-400\">Precio Promedio</div>\r\n          <div className=\"mt-1 text-2xl font-bold text-blue-400\">\r\n            ${plans.length > 0 ? (plans.reduce((sum, p) => sum + p.price, 0) / plans.length).toFixed(2) : '0.00'}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Table */}\r\n      {plans.length === 0 ? (\r\n        <div className=\"rounded-xl border border-slate-800 bg-slate-900 p-12 text-center\">\r\n          <Package className=\"mx-auto h-12 w-12 text-slate-600\" />\r\n          <h3 className=\"mt-4 text-lg font-semibold text-slate-300\">\r\n            No hay planes creados\r\n          </h3>\r\n          <p className=\"mt-2 text-sm text-slate-500\">\r\n            Comienza creando tu primer plan de membresía personalizado\r\n          </p>\r\n          <Button \r\n            onClick={() => handleOpenModal()} \r\n            icon={Plus}\r\n            className=\"mt-6\"\r\n          >\r\n            Crear Primer Plan\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <Table columns={columns} data={plans} />\r\n      )}\r\n\r\n      {/* Create/Edit Modal */}\r\n      <Modal\r\n        isOpen={isModalOpen}\r\n        onClose={() => setIsModalOpen(false)}\r\n        title={selectedPlan ? 'Editar Plan' : 'Nuevo Plan de Membresía'}\r\n      >\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          {errorMessage && (\r\n            <div className=\"rounded-lg border border-red-800 bg-red-900/20 p-3 text-sm text-red-400\">\r\n              {errorMessage}\r\n            </div>\r\n          )}\r\n\r\n          <FormInput\r\n            label=\"Nombre del Plan\"\r\n            value={formData.name}\r\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n            required\r\n            placeholder=\"Ej: Plan Premium\"\r\n          />\r\n\r\n          <div>\r\n            <label className=\"mb-1.5 block text-sm font-medium text-slate-300\">\r\n              Descripción\r\n            </label>\r\n            <textarea\r\n              value={formData.description}\r\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n              className=\"block w-full rounded-lg border border-slate-700 bg-slate-950 p-2.5 text-slate-100 placeholder-slate-500 focus:border-lime-400 focus:ring-lime-400 sm:text-sm\"\r\n              rows=\"2\"\r\n              placeholder=\"Descripción breve del plan\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <FormInput\r\n              label=\"Precio\"\r\n              type=\"number\"\r\n              step=\"0.01\"\r\n              value={formData.price}\r\n              onChange={(e) => setFormData({ ...formData, price: e.target.value })}\r\n              required\r\n              placeholder=\"29.99\"\r\n            />\r\n            <FormInput\r\n              label=\"Duración (días)\"\r\n              type=\"number\"\r\n              value={formData.duration_days}\r\n              onChange={(e) => setFormData({ ...formData, duration_days: e.target.value })}\r\n              required\r\n              placeholder=\"30\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"mb-1.5 block text-sm font-medium text-slate-300\">\r\n              Beneficios\r\n            </label>\r\n            <textarea\r\n              value={formData.benefits}\r\n              onChange={(e) => setFormData({ ...formData, benefits: e.target.value })}\r\n              className=\"block w-full rounded-lg border border-slate-700 bg-slate-950 p-2.5 text-slate-100 placeholder-slate-500 focus:border-lime-400 focus:ring-lime-400 sm:text-sm\"\r\n              rows=\"3\"\r\n              placeholder=\"Lista de beneficios (uno por línea)\"\r\n            />\r\n            <p className=\"mt-1 text-xs text-slate-500\">\r\n              Escribe cada beneficio en una línea nueva\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"secondary\"\r\n              onClick={() => setIsModalOpen(false)}\r\n              disabled={formLoading}\r\n              className=\"flex-1\"\r\n            >\r\n              Cancelar\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={formLoading}\r\n              className=\"flex-1\"\r\n            >\r\n              {formLoading ? 'Guardando...' : (selectedPlan ? 'Actualizar' : 'Crear Plan')}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </Modal>\r\n\r\n      {/* Delete Confirmation */}\r\n      <ConfirmDialog\r\n        isOpen={isDeleteOpen}\r\n        onClose={() => setIsDeleteOpen(false)}\r\n        onConfirm={handleDelete}\r\n        title=\"Eliminar Plan\"\r\n        message={`¿Estás seguro de que deseas eliminar el plan \"${selectedPlan?.name}\"? Los socios actuales con este plan no se verán afectados.`}\r\n        confirmText=\"Eliminar\"\r\n        isDestructive\r\n        loading={formLoading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MembershipPlansPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}